export default function getTetraminos() {
    const tetraminos = [
        // O
        [
            // rotate 1
            [
                [2, 1, 0, 0],
                [1, 1, 0, 0],
                [0, 0, 0, 0],
                [0, 0, 0, 0],
            ]
        ],
        // I
        [
            // rotate 1
            [
                [1, 2, 1, 1],
                [0, 0, 0, 0],
                [0, 0, 0, 0],
                [0, 0, 0, 0],
            ],
            // rotate 2
            [
                [1, 0, 0, 0],
                [2, 0, 0, 0],
                [1, 0, 0, 0],
                [1, 0, 0, 0],
            ]
        ],
        // T
        [
            // rotate 1
            [
                [1, 2, 1, 0],
                [0, 1, 0, 0],
                [0, 0, 0, 0],
                [0, 0, 0, 0],
            ],
            // rotate 2
            [
                [0, 1, 0, 0],
                [1, 2, 0, 0],
                [0, 1, 0, 0],
                [0, 0, 0, 0],
            ],
            // rotate 3
            [
                [0, 1, 0, 0],
                [1, 2, 1, 0],
                [0, 0, 0, 0],
                [0, 0, 0, 0],
            ],
            // rotate 4
            [
                [1, 0, 0, 0],
                [2, 1, 0, 0],
                [1, 0, 0, 0],
                [0, 0, 0, 0],
            ]
        ],
        // J
        [
            // rotate 1
            [
                [0, 1, 0, 0],
                [0, 2, 0, 0],
                [1, 1, 0, 0],
                [0, 0, 0, 0],
            ],
            // rotate 2
            [
                [1, 0, 0, 0],
                [1, 2, 1, 0],
                [0, 0, 0, 0],
                [0, 0, 0, 0],
            ],
            // rotate 3
            [
                [1, 1, 0, 0],
                [2, 0, 0, 0],
                [1, 0, 0, 0],
                [0, 0, 0, 0],
            ],
            // rotate 4
            [
                [1, 2, 1, 0],
                [0, 0, 1, 0],
                [0, 0, 0, 0],
                [0, 0, 0, 0],
            ]
        ],
        // L
        [
            // rotate 1
            [
                [1, 0, 0, 0],
                [2, 0, 0, 0],
                [1, 1, 0, 0],
                [0, 0, 0, 0],
            ],
            // rotate 2
            [
                [1, 2, 1, 0],
                [1, 0, 0, 0],
                [0, 0, 0, 0],
                [0, 0, 0, 0],
            ],
            // rotate 3
            [
                [1, 1, 0, 0],
                [0, 2, 0, 0],
                [0, 1, 0, 0],
                [0, 0, 0, 0],
            ],
            // rotate 4
            [
                [0, 0, 1, 0],
                [1, 2, 1, 0],
                [0, 0, 0, 0],
                [0, 0, 0, 0],
            ]
        ],
        // S
        [
            // rotate 1
            [
                [0, 2, 1, 0],
                [1, 1, 0, 0],
                [0, 0, 0, 0],
                [0, 0, 0, 0],
            ],
            // rotate 2
            [
                [1, 0, 0, 0],
                [1, 2, 0, 0],
                [0, 1, 0, 0],
                [0, 0, 0, 0],
            ],
            // rotate 3
            [
                [0, 1, 1, 0],
                [1, 2, 0, 0],
                [0, 0, 0, 0],
                [0, 0, 0, 0],
            ],
            // rotate 4
            [
                [1, 0, 0, 0],
                [2, 1, 0, 0],
                [0, 1, 0, 0],
                [0, 0, 0, 0],
            ]
        ],
        // Z
        [
            // rotate 1
            [
                [1, 1, 0, 0],
                [0, 2, 1, 0],
                [0, 0, 0, 0],
                [0, 0, 0, 0],
            ],
            // rotate 2
            [
                [0, 1, 0, 0],
                [2, 1, 0, 0],
                [1, 0, 0, 0],
                [0, 0, 0, 0],
            ],
            // rotate 3
            [
                [1, 2, 0, 0],
                [0, 1, 1, 0],
                [0, 0, 0, 0],
                [0, 0, 0, 0],
            ],
            // rotate 4
            [
                [0, 1, 0, 0],
                [1, 2, 0, 0],
                [1, 0, 0, 0],
                [0, 0, 0, 0],
            ]
        ]
    ]

    function randomPiece() {
        let pieceIndex = tetraminos.length > 1 ? Math.floor(Math.random() * tetraminos.length) : 0;
        let rotateIndex = tetraminos[pieceIndex].length > 1 ? Math.floor(Math.random() * tetraminos[pieceIndex].length) : 0;
        return tetraminos[pieceIndex][rotateIndex];
    }

    return {
        randomPiece
    }
}
